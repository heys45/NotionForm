<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    テスト用です。0409/12:55
    <script>
        // POSTリクエストの送信
        fetch('https://script.google.com/macros/s/AKfycbyWRaEb4zulsgE2kM3Z7BZ417xuOyg0GHGv2w7cQLfrH0ju8hB17xd7oXH-NWInpGbX/exec', {
            
        method: 'POST',
        // headers: {
        //     'Content-Type': 'text/plain',
        //     'Origin' : 'https://heys45.github.io'
        // },
        // body: 'sales_id_1' // 検索条件
        headers: {
                        // 'Content-Type': 'text/plain',
            'Content-Type': 'application/json',
            'Origin' : 'https://heys45.github.io'
        },
        body: JSON.stringify({
            salesId: 'sales_id_1' // 検索条件
        }),
        mode: 'cors', //CORS対応
        // credentials: 'include',
        })
        .then(response => response.text()) // レスポンスをJSON形式で取得
        .then(data => {
        console.log(data); // レスポンスの内容をコンソールに表示
        });

        // レスポンスの取得
        function doGet(e) {
        var searchCondition = e.parameters.searchCondition; // POSTリクエストから検索条件を取得
        var result = getSalesSchedule(searchCondition); // スプレッドシートから最新スケジュールを取得する関数
        return ContentService.createTextOutput(JSON.stringify(result)).setMimeType(ContentService.MimeType.JSON); // レスポンスをJSON形式で返す
        }
    </script>
    
</body>
</html>