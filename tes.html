<div class="notion-page__properties" style="display: block;">
    <!-- ロールアップ、ページタイトルの場合 -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>ロールアップ</span></div>
        <div class="notion-property notion-property__rollup property-undefined">
            <div class="notion-property notion-property__title"><span class="notion-semantic-string"><span><a
                            id="block-ca10d386-f7cf-40d0-ac01-90bd1661bee9" class="notion-link notion-page"
                            href="/ca10d386f7cf40d0ac0190bd1661bee9">
                            <div>
                                <div class="notion-page__icon"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>原口テスト（ハラグチテスト）</span></span></div>
                            </div>
                        </a></span><span><a id="block-384d7aca-e953-4c75-96b6-d1d261eb0a7e"
                            class="notion-link notion-page" href="/384d7acae9534c7596b6d1d261eb0a7e">
                            <div>
                                <div class="notion-page__icon"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>ダミー4ダミー4（ダミー3ダミー3）</span></span></div>
                            </div>
                        </a></span><span><a id="block-e87b3b79-b650-4529-99fa-e2b06fd8060b"
                            class="notion-link notion-page" href="/e87b3b79b650452999fae2b06fd8060b">
                            <div>
                                <div class="notion-page__icon"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>ダミー2ダミー2（ダミー2ダミー2）</span></span></div>
                            </div>
                        </a></span><span><a id="block-1b7a6e64-806a-4dcf-8f53-79820602704c"
                            class="notion-link notion-page" href="/1b7a6e64806a4dcf8f5379820602704c">
                            <div>
                                <div class="notion-page__icon"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>ダミー1ダミー1（ダミー1ダミー1）</span></span></div>
                            </div>
                        </a></span><span><a id="block-bd372260-0332-4c1b-8cd3-a3b3da184edc"
                            class="notion-link notion-page" href="/bd37226003324c1b8cd3a3b3da184edc">
                            <div>
                                <div class="notion-page__icon"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>原口２テスト２（ハラグチテスト）</span></span></div>
                            </div>
                        </a></span></span></div>
        </div>
    </div>
    <!-- ロールアップ、テキストの場合 -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>ロールアップ 1</span></div>
        <div class="notion-property notion-property__rollup property-undefined">
            <div>
                <div class="notion-property notion-property__text property-undefined"><span
                        class="notion-semantic-string"><span>999999</span></span></div>,
            </div>
            <div>
                <div class="notion-property notion-property__text property-undefined"><span
                        class="notion-semantic-string"><span>9999983</span></span></div>
            </div>
            <div>
                <div class="notion-property notion-property__text property-undefined"><span
                        class="notion-semantic-string"><span>9999986</span></span></div>,
            </div>
            <div>
                <div class="notion-property notion-property__text property-undefined"><span
                        class="notion-semantic-string"><span>9999991</span></span></div>
            </div>
            <div>
                <div class="notion-property notion-property__text property-undefined"><span
                        class="notion-semantic-string"><span>999998</span></span></div>,
            </div>
        </div>
    </div>
    <!--  チェックボックスの場合   -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>完了</span></div>
        <div class="notion-property notion-property__checkbox property-undefined">
            <div class="notion-checkbox checked"><svg viewBox="0 0 14 14">
                    <polygon points="5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039">
                    </polygon>
                </svg></div>
        </div>
    </div>
    <!-- リッチテキストの場合 -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>市区町村</span></div>
        <div class="notion-property notion-property__text property-undefined"><span
                class="notion-semantic-string"><span>渋谷区</span></span></div>
    </div>
    <!-- リッチテキストでからの場合 -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>担当者名2</span></div>
    </div>
    <!-- リレーションの場合 -->
    <div class="notion-page__property" style="display:grid;grid-template-columns:160px 1fr;gap:8px;min-height:36px">
        <div class="notion-page__property-name"><span>講師DB0309-</span></div>
        <div class="notion-property notion-property__relation property-undefined"><span
                class="notion-semantic-string"><span><span class="resource"><a
                            id="block-e4b06cf3-4389-4c1f-a535-5fe94d1bec1d" class="notion-link notion-page small"
                            href="/e4b06cf343894c1fa5355fe94d1bec1d">
                            <div>
                                <div class="notion-page__icon small"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>原口テスト（ハラグチテスト）</span></span></div>
                            </div>
                        </a></span></span><span></span><span><span class="resource"><a
                            id="block-34f17066-bc05-43d2-ad51-4206d9b0e4fd" class="notion-link notion-page small"
                            href="/34f17066bc0543d2ad514206d9b0e4fd">
                            <div>
                                <div class="notion-page__icon small"><!--$--><svg class="notion-icon notion-icon__page"
                                        viewBox="0 0 30 30"
                                        style="width:1.25em;height:1.25em;fill:var(--color-text-default-light)">
                                        <g>
                                            <path
                                                d="M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z">
                                            </path>
                                        </g>
                                    </svg><!--/$--></div>
                                <div class="notion-page__title"><span
                                        class="notion-semantic-string"><span>吉冨快斗（ヨシトミカイト）</span></span></div>
                            </div>
                        </a></span></span></span></div>
    </div>
</div>

<script>


    function extractProperties() {
        const propertiesContainer = document.querySelector(".notion-page__properties");
        const properties = Array.from(propertiesContainer.children);
        const extractedProperties = properties.map((property) => {
            const propertyName = property.querySelector(".notion-page__property-name > span").innerText;
            const propertyContent = property.querySelector(".notion-property");
            if (!propertyContent) {
            return null;
            }
            let propertyData;
            
            if (propertyContent.classList.contains("notion-property__rollup")) {
                propertyData = Array.from(propertyContent.children).map((child) => {
                    const childData = Array.from(child.querySelectorAll(".notion-semantic-string > span")).map(
                        (content) => content.innerText
                        );
                        return childData;
                    });
                } else if (propertyContent.classList.contains("notion-property__relation")) {
                    propertyData = Array.from(propertyContent.querySelectorAll(".notion-semantic-string > span")).map((relation) =>
                    relation.innerText.trim()
                    );
                } else {
                    propertyData = propertyContent.querySelector(".notion-semantic-string > span")?.innerText;
                }
                
                return {
                    name: propertyName,
                    data: propertyData,
                };
            });
            
            return extractedProperties;
        }
        
        const result = extractProperties().filter((property) => property !== null);
        console.log(result);    
        
</script>